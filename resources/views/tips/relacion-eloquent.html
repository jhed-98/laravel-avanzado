<h2>
    94. Relación Uno a Uno
</h2>

<div class="ckeditor">
    <p>Cuando trabajas con Laravel 10, es común necesitar establecer relaciones entre los modelos de la base de datos.
        Una de estas relaciones es la relación Uno a Uno, donde un registro de un modelo está relacionado con un solo
        registro de otro modelo. En este capítulo, aprenderás cómo establecer una relación Uno a Uno en Laravel 10 y
        cómo acceder a los datos relacionados.</p>
    <p>Para establecer una relación Uno a Uno en Laravel 10, debes definir dos modelos y una clave foránea en uno de
        ellos que haga referencia al otro modelo. Por ejemplo, supongamos que tienes dos modelos "Usuario" y "Perfil",
        donde cada usuario tiene un único perfil. En el modelo "Usuario", debes agregar la siguiente función para
        definir la relación:</p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Models</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Usuario</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">perfil</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">hasOne</span><span class="token punctuation">(</span><span class="token class-name static-context">Perfil</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>En este ejemplo, la función "perfil()" utiliza el método "hasOne()" para definir la relación Uno a Uno entre el
        modelo "Usuario" y el modelo "Perfil". Laravel asume que la clave foránea para esta relación es "usuario_id" en
        la tabla "perfiles".</p>
    <p>A continuación, en el modelo "Perfil", debes agregar una función que haga referencia a la relación inversa. Esta
        función es necesaria para acceder a los datos del usuario relacionado desde el perfil. Por ejemplo:</p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Models</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Perfil</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">usuario</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">belongsTo</span><span class="token punctuation">(</span><span class="token class-name static-context">Usuario</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>En este ejemplo, la función "usuario()" utiliza el método "belongsTo()" para definir la relación inversa Uno a
        Uno entre el modelo "Perfil" y el modelo "Usuario". Laravel asume que la clave foránea para esta relación es
        "usuario_id" en la tabla "perfiles".</p>
    <p>Ahora que has definido la relación Uno a Uno en tus modelos, puedes acceder a los datos relacionados utilizando
        la función correspondiente. Por ejemplo, para obtener el perfil de un usuario en particular, puedes hacer lo
        siguiente:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$usuario</span> <span class="token operator">=</span> <span class="token class-name static-context">Usuario</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$perfil</span> <span class="token operator">=</span> <span class="token variable">$usuario</span><span class="token operator">-&gt;</span><span class="token property">perfil</span><span class="token punctuation">;</span></code></pre>
    <p>En este ejemplo, la variable "$usuario" contiene un objeto de modelo "Usuario" con el ID 1. La variable "$perfil"
        contiene el perfil asociado al usuario.</p>
    <p>En resumen, establecer una relación Uno a Uno en Laravel 10 es fácil. Solo necesitas definir las funciones
        "hasOne()" y "belongsTo()" en los modelos correspondientes y una clave foránea en uno de ellos que haga
        referencia al otro modelo. Una vez que has establecido la relación, puedes acceder a los datos relacionados
        utilizando las funciones correspondientes.</p>
</div>

<h2>
    95. Relación Uno a Muchos
</h2>

<div class="ckeditor">
    <p>Si estás trabajando en un proyecto de Laravel 10 y necesitas establecer una relación Uno a Muchos entre dos
        modelos de la base de datos, has llegado al lugar adecuado. En este capítulo aprenderás todo lo que necesitas
        saber sobre cómo definir y acceder a esta relación en Laravel 10.</p>
    <p>La relación Uno a Muchos es una de las más comunes en las bases de datos relacionales. Se trata de una relación
        en la que un registro de una tabla (modelo) está relacionado con varios registros de otra tabla (modelo). En
        Laravel 10, puedes definir esta relación mediante el uso de métodos en los modelos correspondientes.</p>
    <p>Para definir una relación Uno a Muchos en Laravel 10, debes establecer el método <strong>hasMany</strong> en el
        modelo que tiene varios registros relacionados con otro modelo que tiene solo un registro. Este método acepta
        como argumento el nombre del modelo relacionado. Por ejemplo, si tienes un modelo <strong>User</strong> y un
        modelo <strong>Post</strong>, y cada usuario tiene varios posts, debes establecer el método
        <strong>hasMany</strong> en el modelo <strong>User</strong> de la siguiente manera:
    </p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">posts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">hasMany</span><span class="token punctuation">(</span><span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso del método
        <strong>posts</strong> en una instancia del modelo <strong>User</strong>. Por ejemplo, si deseas obtener todos
        los posts de un usuario con un ID específico, puedes hacerlo de la siguiente manera:
    </p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$posts</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">posts</span><span class="token punctuation">;</span></code></pre>
    <p>En resumen, si necesitas establecer una relación Uno a Muchos en Laravel 10, puedes hacerlo de manera sencilla
        mediante el uso del método <strong>hasMany</strong> en el modelo correspondiente. Una vez definida la relación,
        puedes acceder a los datos relacionados mediante el uso de métodos en una instancia del modelo principal.
        Esperamos que esta información te haya sido útil en tu proyecto de Laravel 10.</p>
</div>

<h2>
    96. Relación Uno a Uno a través de
</h2>

<div class="ckeditor">
    <p>Si estás trabajando en un proyecto de Laravel 10 y necesitas establecer una relación Uno a Uno a través de entre
        tres modelos de la base de datos, estás en el lugar correcto. En este capítulo, te enseñaremos cómo definir y
        acceder a esta relación en Laravel 10.</p>
    <p>La relación Uno a Uno a través de se utiliza cuando tienes tres modelos relacionados entre sí, y quieres
        establecer una relación directa entre dos de ellos. En Laravel 10, puedes definir esta relación mediante el uso
        de métodos en los modelos correspondientes.</p>
    <p>Para establecer una relación Uno a Uno a través de en Laravel 10, debes crear una tabla de relación que contenga
        las claves foráneas de ambos modelos, y establecer los métodos <strong>hasOneThrough</strong> en el modelo
        correspondiente. Por ejemplo, si tienes un modelo <strong>User</strong>, un modelo <strong>Country</strong> y un
        modelo <strong>City</strong>, y cada usuario tiene una ciudad y cada ciudad pertenece a un país, debes
        establecer el método <strong>hasOneThrough</strong> en el modelo <strong>User</strong> de la siguiente manera:
    </p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">country</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">hasOneThrough</span><span class="token punctuation">(</span><span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name static-context">City</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'country_id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'city_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>En este ejemplo, el método <strong>hasOneThrough</strong> establece que la relación Uno a Uno a través de se
        establece entre el modelo <strong>User</strong> y el modelo <strong>Country</strong>, pasando por el modelo
        <strong>City</strong>. Además, se especifica el nombre de las columnas de las claves foráneas.
    </p>
    <p>Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia
        del modelo principal. Por ejemplo, si deseas obtener el país de un usuario con un ID específico, puedes hacerlo
        de la siguiente manera:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$country</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">country</span><span class="token punctuation">;</span></code></pre>
    <p>En resumen, si necesitas establecer una relación Uno a Uno a través de en Laravel 10, debes crear una tabla de
        relación y establecer el método <strong>hasOneThrough</strong> en el modelo correspondiente. Una vez definida la
        relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia del modelo
        principal. Esperamos que esta información te haya sido útil en tu proyecto de Laravel 10.</p>
</div>


<h2>
    97. Relación Uno a Muchos a través de
</h2>

<div class="ckeditor">
    <p>Si estás trabajando en un proyecto de Laravel 10 y necesitas establecer una relación Uno a Muchos a través de
        entre tres modelos de la base de datos, estás en el lugar correcto. En este capítulo, te enseñaremos cómo
        definir y acceder a esta relación en Laravel 10.</p>
    <p>La relación Uno a Muchos a través de se utiliza cuando tienes tres modelos relacionados entre sí, y quieres
        establecer una relación directa entre dos de ellos, donde un modelo tiene varios registros relacionados en el
        tercer modelo. En Laravel 10, puedes definir esta relación mediante el uso de métodos en los modelos
        correspondientes.</p>
    <p>Para establecer una relación Uno a Muchos a través de en Laravel 10, debes crear una tabla de relación que
        contenga las claves foráneas de ambos modelos, y establecer los métodos <strong>hasManyThrough</strong> en el
        modelo correspondiente. Por ejemplo, si tienes un modelo <strong>User</strong>, un modelo
        <strong>Country</strong> y un modelo <strong>City</strong>, y cada país tiene varias ciudades, y cada ciudad
        tiene varios usuarios, debes establecer el método <strong>hasManyThrough</strong> en el modelo
        <strong>User</strong> de la siguiente manera:
    </p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">cities</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">hasManyThrough</span><span class="token punctuation">(</span><span class="token class-name static-context">City</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'country_id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>En este ejemplo, el método <strong>hasManyThrough</strong> establece que la relación Uno a Muchos a través de se
        establece entre el modelo <strong>User</strong> y el modelo <strong>City</strong>, pasando por el modelo
        <strong>Country</strong>. Además, se especifica el nombre de las columnas de las claves foráneas.
    </p>
    <p>Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia
        del modelo principal. Por ejemplo, si deseas obtener todas las ciudades de un país de un usuario con un ID
        específico, puedes hacerlo de la siguiente manera:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$cities</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">cities</span><span class="token punctuation">;</span></code></pre>
    <p>En resumen, si necesitas establecer una relación Uno a Muchos a través de en Laravel 10, debes crear una tabla de
        relación y establecer el método <strong>hasManyThrough</strong> en el modelo correspondiente. Una vez definida
        la relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia del modelo
        principal. Esperamos que esta información te haya sido útil en tu proyecto de Laravel 10.</p>
</div>

<h2>
    98. Relación Muchos a Muchos
</h2>

<div class="ckeditor">
    <p>Si estás trabajando en un proyecto de Laravel 10 y necesitas establecer una relación Muchos a Muchos entre dos
        modelos de la base de datos, has llegado al lugar adecuado. En este capítulo, te enseñaremos cómo definir y
        acceder a esta relación en Laravel 10.</p>
    <p>La relación Muchos a Muchos es una de las más comunes en las bases de datos relacionales, y se utiliza para
        modelar relaciones complejas entre diferentes entidades. En Laravel 10, puedes definir esta relación mediante el
        uso de métodos en los modelos correspondientes.</p>
    <p>Para establecer una relación Muchos a Muchos en Laravel 10, debes crear una tabla de relación que contenga las
        claves foráneas de ambos modelos. A continuación, debes establecer los métodos <strong>belongsToMany</strong> en
        ambos modelos, especificando el nombre de la tabla de relación y los nombres de las columnas de las claves
        foráneas. Por ejemplo, si tienes un modelo <strong>User</strong> y un modelo <strong>Role</strong>, y cada
        usuario puede tener varios roles y cada rol puede pertenecer a varios usuarios, debes establecer los métodos
        <strong>belongsToMany</strong> en ambos modelos de la siguiente manera:
    </p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">roles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">belongsToMany</span><span class="token punctuation">(</span><span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'user_role'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'user_id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'role_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Role</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">users</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">belongsToMany</span><span class="token punctuation">(</span><span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'user_role'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'role_id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'user_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia
        del modelo principal. Por ejemplo, si deseas obtener todos los roles de un usuario con un ID específico, puedes
        hacerlo de la siguiente manera:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">roles</span><span class="token punctuation">;</span></code></pre>
    <p>En resumen, si necesitas establecer una relación Muchos a Muchos en Laravel 10, debes crear una tabla de relación
        y establecer los métodos <strong>belongsToMany</strong> en ambos modelos correspondientes. Una vez definida la
        relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia del modelo
        principal. Esperamos que esta información te haya sido útil en tu proyecto de Laravel 10.</p>
</div>


<h2>
    99. Relaciones Uno a Uno Polimórficas
</h2>


<div class="ckeditor">
    <p>Si estás trabajando en un proyecto de Laravel 10 y necesitas establecer relaciones Uno a Uno Polimórficas entre
        dos o más modelos de la base de datos, estás en el lugar correcto. En este capítulo, te enseñaremos cómo definir
        y acceder a esta relación en Laravel 10.</p>
    <p>Las relaciones Uno a Uno Polimórficas se utilizan cuando tienes varios modelos que necesitan estar relacionados
        con otro modelo de forma individual, en lugar de tener una relación directa. En Laravel 10, puedes definir esta
        relación mediante el uso de métodos en los modelos correspondientes.</p>
    <p>Para establecer una relación Uno a Uno Polimórfica en Laravel 10, debes crear una tabla de relación polimórfica
        que contenga las claves foráneas de ambos modelos, y establecer los métodos <strong>morphOne</strong> y
        <strong>morphTo</strong> en los modelos correspondientes. Por ejemplo, si tienes un modelo
        <strong>Comment</strong>, un modelo <strong>Post</strong> y un modelo <strong>Video</strong>, y cada uno puede
        tener un único <strong>Comment</strong>, debes establecer los métodos de la siguiente manera:
    </p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">Comment</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">commentable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Post</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphOne</span><span class="token punctuation">(</span><span class="token class-name static-context">Comment</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'commentable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Video</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphOne</span><span class="token punctuation">(</span><span class="token class-name static-context">Comment</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'commentable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>En este ejemplo, el método <strong>morphTo</strong> en el modelo <strong>Comment</strong> establece que la
        relación es polimórfica, y el método <strong>morphOne</strong> en los modelos <strong>Post</strong> y
        <strong>Video</strong> establece la relación Uno a Uno polimórfica entre el modelo <strong>Comment</strong> y el
        modelo correspondiente. Además, se especifica el nombre de la columna que contiene el tipo de modelo y la clave
        foránea del modelo en la tabla de relación polimórfica.
    </p>
    <p>Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia
        del modelo principal. Por ejemplo, si deseas obtener el comentario de un post con un ID específico, puedes
        hacerlo de la siguiente manera:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$post</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token property">comment</span><span class="token punctuation">;</span></code></pre>
    <p>En resumen, si necesitas establecer relaciones Uno a Uno Polimórficas en Laravel 10, debes crear una tabla de
        relación polimórfica y establecer los métodos <strong>morphOne</strong> y <strong>morphTo</strong> en los
        modelos correspondientes. Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso
        de métodos en una instancia del modelo principal. Esperamos que esta información te haya sido útil en tu
        proyecto de Laravel 10.</p>
</div>


<h2>
    100. Relaciones Uno a Muchos Polimórficas
</h2>

<div class="ckeditor">
    <p>Si estás trabajando en un proyecto de Laravel 10 y necesitas establecer relaciones Uno a Muchos Polimórficas
        entre dos o más modelos de la base de datos, estás en el lugar correcto. En este capítulo, te enseñaremos cómo
        definir y acceder a esta relación en Laravel 10.</p>
    <p>Las relaciones Uno a Muchos Polimórficas se utilizan cuando varios modelos necesitan estar relacionados con otro
        modelo de forma individual, y cada uno de ellos puede tener varios registros relacionados en la tabla de
        relación. En Laravel 10, puedes definir esta relación mediante el uso de métodos en los modelos
        correspondientes.</p>
    <p>Para establecer una relación Uno a Muchos Polimórfica en Laravel 10, debes crear una tabla de relación
        polimórfica que contenga las claves foráneas de ambos modelos, y establecer los métodos
        <strong>morphMany</strong> y <strong>morphTo</strong> en los modelos correspondientes. Por ejemplo, si tienes un
        modelo <strong>Comment</strong>, un modelo <strong>Post</strong> y un modelo <strong>Video</strong>, y cada uno
        puede tener varios <strong>Comment</strong>, debes establecer los métodos de la siguiente manera:
    </p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">Comment</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">commentable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Post</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">comments</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphMany</span><span class="token punctuation">(</span><span class="token class-name static-context">Comment</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'commentable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Video</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">comments</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphMany</span><span class="token punctuation">(</span><span class="token class-name static-context">Comment</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'commentable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>En este ejemplo, el método <strong>morphTo</strong> en el modelo <strong>Comment</strong> establece que la
        relación es polimórfica, y el método <strong>morphMany</strong> en los modelos <strong>Post</strong> y
        <strong>Video</strong> establece la relación Uno a Muchos Polimórfica entre el modelo <strong>Comment</strong> y
        el modelo correspondiente. Además, se especifica el nombre de la columna que contiene el tipo de modelo y la
        clave foránea del modelo en la tabla de relación polimórfica.
    </p>
    <p>Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia
        del modelo principal. Por ejemplo, si deseas obtener todos los comentarios de un video con un ID específico,
        puedes hacerlo de la siguiente manera:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$video</span> <span class="token operator">=</span> <span class="token class-name static-context">Video</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$comments</span> <span class="token operator">=</span> <span class="token variable">$video</span><span class="token operator">-&gt;</span><span class="token property">comments</span><span class="token punctuation">;</span></code></pre>
    <p>En resumen, si necesitas establecer relaciones Uno a Muchos Polimórficas en Laravel 10, debes crear una tabla de
        relación polimórfica y establecer los métodos <strong>morphMany</strong> y <strong>morphTo</strong> en los
        modelos correspondientes. Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso
        de métodos en una instancia del modelo principal. Esperamos que esta información te haya sido útil en tu
        proyecto de Laravel 10.</p>
</div>


<h2>
    101. Relación Muchos a Muchos Polimórficas
</h2>

<div class="ckeditor">
    <p>Si estás trabajando en un proyecto de Laravel 10 y necesitas establecer relaciones Muchos a Muchos Polimórficas
        entre dos o más modelos de la base de datos, estás en el lugar correcto. En este capítulo, te enseñaremos cómo
        definir y acceder a esta relación en Laravel 10.</p>
    <p>Las relaciones Muchos a Muchos Polimórficas se utilizan cuando varios modelos necesitan estar relacionados con
        otro modelo de forma individual, y cada uno de ellos puede tener varios registros relacionados en la tabla de
        relación. En Laravel 10, puedes definir esta relación mediante el uso de métodos en los modelos
        correspondientes.</p>
    <p>Para establecer una relación Muchos a Muchos Polimórfica en Laravel 10, debes crear una tabla de relación
        polimórfica que contenga las claves foráneas de ambos modelos, y establecer los métodos
        <strong>morphToMany</strong> y <strong>morphedByMany</strong> en los modelos correspondientes. Por ejemplo, si
        tienes un modelo <strong>Tag</strong>, un modelo <strong>Post</strong> y un modelo <strong>Video</strong>, y
        cada uno puede tener varias etiquetas y varias etiquetas pueden estar relacionadas con varios modelos, debes
        establecer los métodos de la siguiente manera:
    </p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">Tag</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">posts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphedByMany</span><span class="token punctuation">(</span><span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'taggable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">videos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphedByMany</span><span class="token punctuation">(</span><span class="token class-name static-context">Video</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'taggable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Post</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">tags</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphToMany</span><span class="token punctuation">(</span><span class="token class-name static-context">Tag</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'taggable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Video</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">tags</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">morphToMany</span><span class="token punctuation">(</span><span class="token class-name static-context">Tag</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'taggable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>En este ejemplo, el método <strong>morphToMany</strong> en los modelos <strong>Post</strong> y
        <strong>Video</strong> establece la relación Muchos a Muchos Polimórfica entre el modelo <strong>Tag</strong> y
        el modelo correspondiente. Además, se especifica el nombre de la columna que contiene el tipo de modelo y la
        clave foránea del modelo en la tabla de relación polimórfica. Por otro lado, el método
        <strong>morphedByMany</strong> en el modelo <strong>Tag</strong> establece la relación Muchos a Muchos
        Polimórfica inversa entre el modelo <strong>Tag</strong> y el modelo correspondiente.
    </p>
    <p>Una vez definida la relación, puedes acceder a los datos relacionados mediante el uso de métodos en una instancia
        del modelo principal. Por ejemplo, si deseas obtener todas las etiquetas de un video con un ID específico,
        puedes hacerlo de la siguiente manera:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$video</span> <span class="token operator">=</span> <span class="token class-name static-context">Video</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$tags</span> <span class="token operator">=</span> <span class="token variable">$video</span><span class="token operator">-&gt;</span><span class="token property">tags</span><span class="token punctuation">;</span></code></pre>
    <p>En resumen, si necesitas establecer relaciones Muchos a Muchos Polimórficas en Laravel 10, debes crear una tabla
        de relación polimórfica y establecer los métodos <strong>morphToMany</strong> y <strong>morphedByMany</strong>
        en los modelos correspondientes. Una vez definida la relación, puedes acceder a los datos relacionados mediante
        el uso de métodos en una instancia del modelo principal. Esperamos que esta información te haya sido útil en tu
        proyecto de Laravel 10.</p>
</div>


<h2>
    102. Consultas a la Relación
</h2>

<div class="ckeditor">
    <p>En Laravel 10, las relaciones entre modelos de la base de datos permiten recuperar datos relacionados de forma
        sencilla y eficiente. Una vez definida la relación, podemos utilizar los métodos de consulta para recuperar los
        datos que necesitamos.</p>
    <p>Si queremos recuperar los datos relacionados de un solo modelo, podemos utilizar el método
        <strong>with()</strong> en una consulta. Este método acepta como argumento el nombre de la relación y carga los
        datos relacionados junto con el modelo original. Por ejemplo, si tenemos un modelo <strong>User</strong> con una
        relación <strong>posts()</strong> a través del modelo <strong>Post</strong>, podemos cargar los datos
        relacionados de la siguiente manera:
    </p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'posts'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    <p>Este código carga los posts relacionados del usuario con ID 1. Podemos acceder a los datos relacionados
        utilizando la propiedad <strong>posts</strong> del modelo:</p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">posts</span> <span class="token keyword">as</span> <span class="token variable">$post</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">echo</span> <span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token property">title</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
    <p>Si queremos hacer una consulta que incluya los datos relacionados de varios modelos, podemos encadenar los
        métodos <strong>with()</strong> y <strong>where()</strong> en la consulta. Por ejemplo, si tenemos un modelo
        <strong>User</strong> con una relación <strong>posts()</strong> a través del modelo <strong>Post</strong>, y un
        modelo <strong>Comment</strong> con una relación <strong>user()</strong> a través del modelo
        <strong>User</strong>, podemos cargar los datos relacionados de esta manera:
    </p>
    <pre class="language-php"
        tabindex="0"><code class="language-php"><span class="token variable">$comments</span> <span class="token operator">=</span> <span class="token class-name static-context">Comment</span><span class="token operator">::</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'user.posts'</span><span class="token punctuation">)</span>
<span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'created_at'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'&gt;'</span><span class="token punctuation">,</span> <span class="token class-name static-context">Carbon</span><span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">subDays</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    <p>Este código carga los usuarios y sus posts relacionados para los comentarios creados hace menos de 7 días.
        Podemos acceder a los datos relacionados de la misma manera que en el ejemplo anterior:</p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$comments</span> <span class="token keyword">as</span> <span class="token variable">$comment</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">echo</span> <span class="token variable">$comment</span><span class="token operator">-&gt;</span><span class="token property">user</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$comment</span><span class="token operator">-&gt;</span><span class="token property">user</span><span class="token operator">-&gt;</span><span class="token property">posts</span><span class="token operator">-&gt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
    <p>En resumen, en Laravel 10 podemos hacer consultas a las relaciones utilizando los métodos <strong>with()</strong>
        y encadenando otros métodos de consulta según nuestras necesidades. Esto nos permite recuperar los datos
        relacionados de forma eficiente y utilizarlos en nuestra aplicación.</p>
</div>

<h2>
    103. Seeders
</h2>

<div class="ckeditor">
    <p>En este capítulo, aprenderás cómo utilizar seeders en Laravel 10 para poblar tu base de datos con datos de
        prueba.</p>
    <p>Los seeders son una herramienta muy útil en Laravel para poblar tu base de datos con datos de prueba, lo que
        facilita el proceso de desarrollo y pruebas de tu aplicación. Los seeders son clases de PHP que puedes utilizar
        para insertar datos en tu base de datos a través de una interfaz sencilla y programática.</p>
    <p>Para crear un seeder en Laravel, utiliza el comando <strong>make:seeder</strong>. Por ejemplo, para crear un
        seeder para la tabla "users", puedes utilizar el siguiente comando:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php">php artisan make<span class="token punctuation">:</span>seeder UsersTableSeeder</code></pre>
    <p>Este comando creará un nuevo archivo de seeder en el directorio <strong>database/seeds</strong>.</p>
    <p>Dentro de tu seeder, puedes utilizar el método <strong>DB::table()</strong> para interactuar con la tabla de base
        de datos correspondiente y utilizar el método <strong>insert()</strong> para insertar registros en la tabla. Por
        ejemplo, para insertar un nuevo usuario en la tabla "users", puedes utilizar el siguiente código:</p>
    <pre class="language-php" tabindex="0"><code class="language-php"><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Seeder</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>DB</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">UsersTableSeeder</span> <span class="token keyword">extends</span> <span class="token class-name">Seeder</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token class-name static-context">DB</span><span class="token operator">::</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'users'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'John Doe'</span><span class="token punctuation">,</span>
<span class="token string single-quoted-string">'email'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'johndoe@example.com'</span><span class="token punctuation">,</span>
<span class="token string single-quoted-string">'password'</span> <span class="token operator">=&gt;</span> <span class="token function">bcrypt</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'secret'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    <p>Una vez que hayas creado tus seeders, puedes utilizar el comando <strong>db:seed</strong> para ejecutarlos y
        poblar tu base de datos con datos de prueba. Por ejemplo, para ejecutar el seeder
        <strong>UsersTableSeeder</strong>, puedes utilizar el siguiente comando:</p>
    <pre class="language-php"
        tabindex="0"><code class="language-php">php artisan db<span class="token punctuation">:</span>seed <span class="token operator">--</span><span class="token keyword">class</span><span class="token operator">=</span>UsersTableSeeder</code></pre>
    <p>También puedes utilizar el comando <strong>db:seed</strong> sin argumentos para ejecutar todos los seeders en tu
        aplicación.</p>
    <p>Además, es posible utilizar el comando <strong>make:factory</strong> para generar factories de modelos y así
        crear datos de prueba de manera automatizada. Luego, en los seeders, puedes utilizar estas factories para crear
        y relacionar modelos de manera rápida y sencilla.</p>
    <p>En resumen, los seeders son una herramienta poderosa para poblar tu base de datos con datos de prueba en Laravel.
        Al utilizarlos, puedes agilizar el proceso de desarrollo y pruebas de tu aplicación de manera significativa.</p>
</div>
